#!/bin/sh

~/bin/log "Setting up directory structure..."

# create symlinks if missing
[ -f ~/etc/kshrc ] && [ ! -L ~/.kshrc ] && ln -sf ~/etc/kshrc ~/.kshrc && ~/bin/log "$HOME/etc/kshrc linked to ~/.kshrc"
[ -f ~/etc/kshrc ] && [ ! -L ~/.kshrc ] && ln -sf ~/etc/kshrc ~/.mkshrc && ~/bin/log "$HOME/etc/kshrc linked to ~/.mkshrc"
[ -f ~/etc/vimrc ] && [ ! -L ~/.vimrc ] && ln -sf ~/etc/vimrc ~/.vimrc && ~/bin/log "$HOME/etc/vimrc linked to ~/.vimrc"
[ -d ~/etc/vim ] && [ ! -L ~/.vim ] && ln -sf ~/etc/vim ~/.vim && ~/bin/log "$HOME/etc/vim/ linked to ~/.vim"
[ -f ~/etc/Xresources ] && [ ! -L ~/.Xresources ] && ln -sf ~/etc/Xresources ~/.Xresources && ~/bin/log "$HOME/etc/Xresources linked to ~/.Xresources"

# make my dirs
for DIR in src var uni tmp; do
	[ -d "$HOME/$DIR" ] && continue
	mkdir -p "$HOME/$DIR"
	~/bin/log "$HOME/$DIR not found, directory added"
done

# add my bin launchers
[ -d ~/bin/launchers ] && [ -d ~/.local/share/applications ] && for APP in ~/bin/launchers/*.desktop; do
	LAUNCHER="$HOME/.local/share/applications/$(basename "$APP")"
	[ ! -L "$LAUNCHER" ] && ln -sf "$APP" "$LAUNCHER"
	~/bin/log "$APP luncher installed"
done

